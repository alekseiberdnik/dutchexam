<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DutchExam.online — Mini Test + Early Access</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0f172a; --bg2:#111827; --accent:#f59e0b; --accent2:#fde68a;
      --text:#e5e7eb; --muted:#9ca3af; --card:rgba(255,255,255,.06);
      --border:rgba(255,255,255,.14); --ok:#22c55e; --bad:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:'Inter',system-ui,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text); background:
        radial-gradient(900px 600px at 15% 10%, #1d4ed8 0%, transparent 60%),
        radial-gradient(900px 600px at 85% 20%, #f59e0b 0%, transparent 60%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      background-attachment:fixed;
    }
    .grid{
      position:fixed; inset:0; pointer-events:none; opacity:.28;
      background-image:
        linear-gradient(to right, rgba(255,255,255,.05) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.05) 1px, transparent 1px);
      background-size:48px 48px;
      mask-image:radial-gradient(ellipse at center, black 60%, transparent 100%);
    }

    .wrap{max-width:900px; margin:0 auto; padding:28px 18px 80px}
    .section{background:var(--card); border:1px solid var(--border);
      border-radius:18px; padding:28px; backdrop-filter: blur(6px) saturate(130%);
      box-shadow:0 16px 50px rgba(0,0,0,.25); margin:20px 0;}
    h1{font-size:clamp(2.1rem,2.6vw+1rem,3.4rem); line-height:1.05; margin:8px 0 10px; letter-spacing:-.02em; font-weight:800}
    h2{font-size:1.6rem; margin:0 0 10px; font-weight:800}
    p{color:var(--muted); margin:0 0 14px; font-size:1.05rem}
    .badge{display:inline-flex; gap:8px; align-items:center; font-weight:700;
      background:rgba(245,158,11,.12); border:1px solid rgba(245,158,11,.35);
      padding:6px 10px; border-radius:999px;}
    .cta{display:flex; gap:12px; flex-wrap:wrap; margin-top:14px}
    .btn{
      appearance:none; border:0; border-radius:12px; cursor:pointer;
      padding:14px 18px; font-weight:800; font-size:1.05rem; color:#111;
      background:linear-gradient(180deg,var(--accent2),var(--accent));
      box-shadow:0 12px 26px rgba(245,158,11,.35);
      transition:transform .18s ease, box-shadow .2s ease, filter .2s ease;
    }
    .btn:hover{transform:translateY(-2px); filter:saturate(112%); box-shadow:0 16px 32px rgba(245,158,11,.45)}
    .btn.secondary{
      background:transparent; color:var(--text);
      border:1px solid rgba(255,255,255,.28); box-shadow:none;
    }
    .btn[disabled]{opacity:.6; cursor:not-allowed}

    /* Features list */
    .features{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:10px}
    @media (max-width:700px){ .features{grid-template-columns:1fr} }
    .feat{display:flex; gap:10px; align-items:flex-start}
    .check{flex:0 0 20px; height:20px; border-radius:6px; display:grid; place-items:center;
      background:rgba(34,197,94,.18); border:1px solid rgba(34,197,94,.45); font-size:.8rem}

    /* Quiz */
    .quiz{display:none}
    .qcard{border:1px solid var(--border); border-radius:14px; padding:16px; margin:14px 0; background:rgba(255,255,255,.04)}
    .opts{display:grid; gap:10px; margin-top:12px}
    .opt{
      border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.05);
      padding:12px 14px; border-radius:12px; cursor:pointer; text-align:left;
      transition: border-color .15s ease, background .15s ease, transform .08s ease;
    }
    .opt:hover{transform:translateY(-1px); border-color:rgba(253,230,138,.8);}
    .opt.correct{outline:2px solid var(--ok); background:rgba(34,197,94,.12)}
    .opt.wrong{outline:2px solid var(--bad); background:rgba(239,68,68,.12)}

    .progress{height:8px; background:rgba(255,255,255,.12); border-radius:10px; overflow:hidden; margin:8px 0 12px}
    .bar{height:100%; width:0%; background:linear-gradient(90deg,#34d399,#22c55e); transition:width .25s ease}

    .status{font-weight:700}
    .status.ok{color:var(--ok)} .status.bad{color:var(--bad)}

    /* Form (Netlify) */
    form{display:flex; flex-direction:column; gap:12px}
    .input{display:flex; align-items:center; gap:10px; padding:12px 14px;
      border-radius:12px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.18)}
    .input input{flex:1; border:0; outline:0; background:transparent; color:#fff; font-size:1rem}
    .small{font-size:.92rem; color:var(--muted)}
    .center{text-align:center}
    footer{margin-top:22px; color:var(--muted); text-align:center; font-size:.9rem}
  </style>
</head>
<body>
  <div class="grid" aria-hidden="true"></div>
  <div class="wrap">
    <!-- HERO -->
    <section class="section" id="hero">
      <span class="badge">🇳🇱 DutchExam.online — AI-ready practice</span>
      <h1>Get exam-ready for your <em>Inburgering</em> — fast</h1>
      <p>Short daily drills, real-life scenarios, instant feedback. Try a mini test below — no sign-up needed.</p>
      <div class="cta">
        <button class="btn" id="startTest">Start the 5-question test</button>
        <a class="btn secondary" href="#subscribe">Get early access updates</a>
      </div>
      <div class="features" style="margin-top:16px">
        <div class="feat"><span class="check">✓</span><span>Adaptive questions</span></div>
        <div class="feat"><span class="check">✓</span><span>Listening & speaking drills</span></div>
        <div class="feat"><span class="check">✓</span><span>Instant explanations</span></div>
        <div class="feat"><span class="check">✓</span><span>Mobile-first experience</span></div>
      </div>
    </section>

    <!-- QUIZ -->
    <section class="section quiz" id="quiz">
      <h2>Mini Test (5 questions)</h2>
      <div class="small">Answer to see if you’re right — we’ll show feedback instantly and a final score at the end.</div>
      <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
      <div id="qwrap"></div>
      <div class="cta">
        <button class="btn" id="nextBtn" disabled>Next</button>
        <div class="status" id="instantStatus"></div>
      </div>
      <p class="small" id="counter" style="margin-top:8px"></p>
    </section>

    <!-- RESULT -->
    <section class="section" id="result" style="display:none">
      <h2>Your score</h2>
      <p class="big" id="scoreText" style="font-size:1.2rem"></p>
      <div id="advice" class="small" style="margin-top:6px"></div>
      <div class="cta" style="margin-top:14px">
        <button class="btn" id="retry">Try again</button>
        <a class="btn secondary" href="#subscribe">Get early access & tips</a>
      </div>
    </section>

    <!-- SUBSCRIBE -->
    <section class="section" id="subscribe">
      <h2>Get early access</h2>
      <p>Be the first to try full practice mode, audio drills, and AI explanations.</p>
      <form id="subscribe-form" name="subscribe" method="POST" data-netlify="true" data-netlify-honeypot="bot-field">
        <input type="hidden" name="form-name" value="subscribe" />
        <div style="display:none"><label>Don’t fill this<input name="bot-field"/></label></div>
        <div class="input">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M4 6h16v12H4z" stroke="#fff" opacity=".7" stroke-width="1.4" />
            <path d="m4 6 8 7 8-7" stroke="#fff" opacity=".7" stroke-width="1.4" />
          </svg>
          <input id="email" type="email" name="email" placeholder="Enter your email" required/>
        </div>
        <button class="btn" id="submitBtn" type="submit"><span class="btn-text">Notify me</span></button>
        <div class="small center" id="formMsg"></div>
      </form>
      <footer>© <span id="year"></span> DutchExam.online • <a href="mailto:info@dutchexam.online" style="color:#bfdbfe">Contact</a></footer>
    </section>
  </div>

  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // ====== QUIZ LOGIC ======
    const questions = [
      {
        q: "You receive a letter from the gemeente (municipality). What is the correct first step?",
        opts: [
          "Throw it away if you don’t understand it",
          "Open and read the letter carefully",
          "Call a friend before opening"
        ],
        correct: 1,
        explain: "Always open and read official letters first. If unclear, seek help afterwards."
      },
      {
        q: "You are late for your afspraak at the gemeente. What do you do?",
        opts: [
          "Do nothing; it’s not important",
          "Call them and explain you will be late",
          "Show up the next day"
        ],
        correct: 1,
        explain: "Call or email to inform them. Dutch institutions expect communication."
      },
      {
        q: "At the doctor (huisarts), you need an urgent appointment. What’s the right action?",
        opts: [
          "Go to the huisarts without calling",
          "Call first and ask for an emergency slot (spoed)",
          "Email only"
        ],
        correct: 1,
        explain: "Call first and state it’s urgent (spoed). They will schedule you appropriately."
      },
      {
        q: "You move to a new address in the Netherlands. What must you do?",
        opts: [
          "Inform the gemeente within 5 days",
          "Wait until next year’s registration",
          "Only tell your friends"
        ],
        correct: 0,
        explain: "You must register your new address with the gemeente (usually within 5 days)."
      },
      {
        q: "Your neighbor is playing loud music late at night. What is the appropriate first step?",
        opts: [
          "Call the police immediately",
          "Leave a note in the hallway",
          "Politely talk to the neighbor first"
        ],
        correct: 2,
        explain: "Start with polite communication. If it continues, then consider further steps."
      }
    ];

    let idx = 0, score = 0, answered = false;
    const quizEl = document.getElementById('quiz');
    const qwrap = document.getElementById('qwrap');
    const nextBtn = document.getElementById('nextBtn');
    const statusEl = document.getElementById('instantStatus');
    const bar = document.getElementById('bar');
    const counter = document.getElementById('counter');

    function renderQuestion() {
      const q = questions[idx];
      qwrap.innerHTML = `
        <div class="qcard">
          <div style="font-weight:700; margin-bottom:8px">Question ${idx+1} of ${questions.length}</div>
          <div>${q.q}</div>
          <div class="opts" id="opts"></div>
        </div>
        <div class="small" style="margin-top:6px;color:#cbd5e1">${q.explain ? "Tip: think about typical Dutch procedures." : ""}</div>
      `;
      const optsEl = document.getElementById('opts');
      q.opts.forEach((t, i) => {
        const d = document.createElement('button');
        d.type = "button";
        d.className = "opt";
        d.textContent = t;
        d.addEventListener('click', () => choose(i));
        optsEl.appendChild(d);
      });
      answered = false;
      nextBtn.disabled = true;
      statusEl.textContent = "";
      counter.textContent = `Progress: ${idx+1}/${questions.length}`;
      bar.style.width = `${((idx)/questions.length)*100}%`;
    }

    function choose(i){
      if (answered) return;
      answered = true;
      const q = questions[idx];
      const optsEl = document.querySelectorAll('.opt');
      optsEl.forEach((b, j) => {
        if (j === q.correct) b.classList.add('correct');
        if (j === i && i !== q.correct) b.classList.add('wrong');
        b.disabled = true;
      });
      if (i === q.correct){
        score++;
        statusEl.textContent = "Correct!";
        statusEl.className = "status ok";
      } else {
        statusEl.textContent = "Not quite — check the explanation above.";
        statusEl.className = "status bad";
      }
      nextBtn.disabled = false;
      // reveal short explanation inline
      const exp = document.createElement('div');
      exp.className = "small";
      exp.style.marginTop = "10px";
      exp.innerHTML = `<strong>Why:</strong> ${q.explain}`;
      qwrap.appendChild(exp);
    }

    function showResult(){
      document.getElementById('quiz').style.display = 'none';
      const res = document.getElementById('result');
      res.style.display = 'block';
      const scoreText = document.getElementById('scoreText');
      scoreText.textContent = `You scored ${score} out of ${questions.length}.`;
      const advice = document.getElementById('advice');
      if (score === 5) advice.textContent = "Excellent! You’re ready for more advanced practice.";
      else if (score >= 3) advice.textContent = "Nice work! A bit more practice and you’ll be exam-ready.";
      else advice.textContent = "No worries — practice makes perfect. Try again and read the tips.";
      window.scrollTo({top: res.offsetTop - 12, behavior:'smooth'});
    }

    document.getElementById('startTest').addEventListener('click', () => {
      // reset
      idx = 0; score = 0;
      document.getElementById('result').style.display = 'none';
      quizEl.style.display = 'block';
      renderQuestion();
      window.scrollTo({top: quizEl.offsetTop - 12, behavior:'smooth'});
    });

    nextBtn.addEventListener('click', () => {
      if (idx < questions.length - 1){
        idx++; renderQuestion();
      } else {
        bar.style.width = '100%';
        showResult();
      }
    });

    document.getElementById('retry').addEventListener('click', () => {
      idx = 0; score = 0; quizEl.style.display = 'block';
      document.getElementById('result').style.display = 'none';
      renderQuestion();
      window.scrollTo({top: quizEl.offsetTop - 12, behavior:'smooth'});
    });

    // ====== NETLIFY FORMS (AJAX) ======
    const sForm = document.getElementById('subscribe-form');
    const formMsg = document.getElementById('formMsg');
    const submitBtn = document.getElementById('submitBtn');
    const btnText = submitBtn.querySelector('.btn-text');

    function encodeFormData(fd){
      const pairs = [];
      for (const [name, value] of fd) pairs.push(encodeURIComponent(name)+'='+encodeURIComponent(value));
      return pairs.join('&');
    }
    sForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      formMsg.textContent = "";
      submitBtn.disabled = true; btnText.textContent = "Submitting…";
      const data = new FormData(sForm);
      if (data.get('bot-field')) { submitBtn.disabled=false; btnText.textContent="Notify me"; return; }
      try{
        await fetch('/', {
          method:'POST',
          headers:{'Content-Type':'application/x-www-form-urlencoded'},
          body: encodeFormData(data)
        });
        sForm.reset();
        formMsg.textContent = "✅ Thanks! You’re on the list.";
      }catch(err){
        console.error(err);
        formMsg.textContent = "⚠️ Something went wrong. Please try again.";
      }finally{
        submitBtn.disabled = false; btnText.textContent = "Notify me";
      }
    });
  </script>
</body>
</html>
