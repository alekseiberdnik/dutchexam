<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DutchExam.online — Inburgering Prep</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f8fafc; --paper:#ffffff; --text:#0f172a; --muted:#475569;
      --line:#e2e8f0; --brand:#2563eb; --brand-2:#3b82f6;
      --ok:#16a34a; --bad:#ef4444; --shadow:0 16px 40px rgba(2,6,23,.08);
      --radius:20px; --pad:42px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:'Inter',system-ui,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text); background:
        radial-gradient(1200px 700px at 8% -10%, #eef2ff 0%, transparent 60%),
        radial-gradient(1200px 700px at 92% 0%, #e0f2fe 0%, transparent 60%),
        var(--bg);
    }
    .wrap{max-width:1180px; margin:0 auto; padding:32px 20px 100px}
    .section{
      background:var(--paper); border:1px solid var(--line); border-radius:var(--radius);
      padding:var(--pad); box-shadow:var(--shadow); margin:28px 0;
    }
    @media (max-width:720px){ .section{padding:26px} }

    /* Typography */
    h1{font-weight:800; letter-spacing:-.02em; line-height:1.06;
       font-size: clamp(2rem, 2.8vw + 1rem, 3.6rem); margin:0 0 10px}
    h2{font-weight:800; font-size: clamp(1.6rem, .9vw + 1.2rem, 2rem); margin:0 0 12px}
    p.lead{font-size: clamp(1.05rem, .6vw + .9rem, 1.25rem); color:var(--muted); margin:0}
    .eyebrow{display:inline-flex; gap:10px; align-items:center; font-weight:700; color:var(--brand);
      background:#eff6ff; border:1px solid #bfdbfe; padding:8px 12px; border-radius:999px}

    /* Buttons */
    .cta{display:flex; gap:12px; flex-wrap:wrap; margin-top:18px}
    .btn{
      appearance:none; border:0; border-radius:14px; cursor:pointer;
      padding:14px 18px; font-weight:800; font-size:1.05rem; color:#fff;
      background:linear-gradient(180deg,var(--brand-2),var(--brand));
      box-shadow:0 10px 26px rgba(37,99,235,.22);
      transition:transform .16s ease, box-shadow .2s ease, filter .2s ease;
    }
    .btn:hover{transform:translateY(-2px); filter:saturate(110%); box-shadow:0 14px 30px rgba(37,99,235,.3)}
    .btn.secondary{
      background:#fff; color:var(--text); border:1px solid var(--line);
      box-shadow:none;
    }
    .btn[disabled]{opacity:.6; cursor:not-allowed}

    /* Blocks */
    .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:18px}
    @media (max-width:900px){ .grid-2{grid-template-columns:1fr} }

    /* Quiz */
    .qcard{border:1px solid var(--line); border-radius:16px; padding:16px; background:#fff; margin:14px 0; box-shadow:var(--shadow)}
    .opts{display:grid; gap:10px; margin-top:12px}
    .opt{
      border:1px solid var(--line); background:#fff; padding:12px 14px; border-radius:12px; cursor:pointer; text-align:left;
      transition: border-color .15s ease, background .15s ease, transform .08s ease, box-shadow .15s ease;
    }
    .opt:hover{transform:translateY(-1px); border-color:#bfdbfe; box-shadow:0 8px 18px rgba(2,6,23,.06)}
    .opt.correct{outline:2px solid var(--ok); background:#f0fdf4}
    .opt.wrong{outline:2px solid var(--bad); background:#fef2f2}
    .progress{height:10px; background:#eef2f7; border-radius:999px; overflow:hidden; margin:10px 0 14px}
    .bar{height:100%; width:0%; background:linear-gradient(90deg,#34d399,#22c55e); transition:width .25s ease}
    .status{font-weight:700}
    .status.ok{color:var(--ok)} .status.bad{color:var(--bad)}
    .muted{color:var(--muted); font-size:.95rem}

    /* Form */
    form{display:flex; flex-direction:column; gap:12px}
    .input{
      display:flex; align-items:center; gap:10px; padding:14px 16px; border-radius:14px; background:#fff; border:1px solid var(--line);
      transition:border-color .15s ease, box-shadow .15s ease;
    }
    .input:focus-within{border-color:#bfdbfe; box-shadow:0 8px 18px rgba(2,6,23,.06)}
    .input input{flex:1; border:0; outline:0; background:transparent; color:var(--text); font-size:1rem}

    footer{margin-top:22px; text-align:center; color:var(--muted); font-size:.9rem}
    a.link{color:var(--brand); text-decoration:none; border-bottom:1px dotted #bfdbfe}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- HERO -->
    <section class="section">
      <span class="eyebrow">DutchExam.online — AI-ready practice</span>
      <h1>#1 online Dutch school for inburgering</h1>
      <p class="lead">We’ll determine your level for free and match a study program.</p>
      <div class="cta">
        <button class="btn" id="startTest">Start 5-question mini test</button>
        <a class="btn secondary" href="#subscribe">Get early access updates</a>
      </div>
    </section>

    <!-- PROGRAMS -->
    <section class="section">
      <h2>Programs for every goal with a results guarantee</h2>
      <p class="lead">Study one-on-one with an experienced teacher and practice Dutch 24/7.</p>
      <div class="grid-2" style="margin-top:18px">
        <div class="section" style="margin:0">
          <h3 style="margin:0 0 6px">Beginner → A1/A2</h3>
          <p class="muted">Everyday language, essential grammar, survival dialogues.</p>
        </div>
        <div class="section" style="margin:0">
          <h3 style="margin:0 0 6px">Exam Focus: Inburgering</h3>
          <p class="muted">Official-style tasks, time management, feedback on mistakes.</p>
        </div>
      </div>
    </section>

    <!-- ECOSYSTEM -->
    <section class="section">
      <h2>Achieve real results with our ecosystem</h2>
      <p class="lead">One course — a complete set of Dutch tools that guarantee progress.</p>
      <div class="grid-2" style="margin-top:18px">
        <div class="section" style="margin:0">
          <h3 style="margin:0 0 6px">Smart practice</h3>
          <p class="muted">Adaptive questions and instant explanations.</p>
        </div>
        <div class="section" style="margin:0">
          <h3 style="margin:0 0 6px">Listening & speaking</h3>
          <p class="muted">Short drills and real-life scenarios (coming soon).</p>
        </div>
      </div>
    </section>

    <!-- QUIZ -->
    <section class="section" id="quiz" style="display:none">
      <h2>Mini test (5 questions)</h2>
      <p class="muted">Answer and get instant feedback. At the end, see your score and tips.</p>
      <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
      <div id="qwrap"></div>
      <div class="cta" style="margin-top:10px">
        <button class="btn" id="nextBtn" disabled>Next</button>
        <div class="status" id="instantStatus"></div>
      </div>
      <p class="muted" id="counter" style="margin-top:8px"></p>
    </section>

    <!-- RESULT -->
    <section class="section" id="result" style="display:none">
      <h2>Your score</h2>
      <p id="scoreText" class="lead" style="margin-bottom:6px"></p>
      <p id="advice" class="muted"></p>
      <div class="cta" style="margin-top:14px">
        <button class="btn" id="retry">Try again</button>
        <a class="btn secondary" href="#subscribe">Get early access & tips</a>
      </div>
    </section>

    <!-- SUBSCRIBE -->
    <section class="section" id="subscribe">
      <h2>Get early access</h2>
      <p class="lead">Be the first to try full practice mode, audio drills, and AI explanations.</p>
      <form id="subscribe-form" name="subscribe" method="POST" data-netlify="true" data-netlify-honeypot="bot-field">
        <input type="hidden" name="form-name" value="subscribe" />
        <div style="display:none"><label>Don’t fill this<input name="bot-field"/></label></div>
        <div class="input">
          <input id="email" type="email" name="email" placeholder="Enter your email" required/>
        </div>
        <button class="btn" id="submitBtn" type="submit"><span class="btn-text">Notify me</span></button>
        <div class="muted" id="formMsg"></div>
      </form>
      <footer>© <span id="year"></span> DutchExam.online • <a class="link" href="mailto:info@dutchexam.online">Contact</a></footer>
    </section>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== QUIZ DATA =====
    const questions = [
      {
        q: "You receive a letter from the gemeente (municipality). What is the correct first step?",
        opts: [
          "Throw it away if you don’t understand it",
          "Open and read the letter carefully",
          "Call a friend before opening"
        ],
        correct: 1,
        explain: "Always open and read official letters first. If unclear, seek help afterwards."
      },
      {
        q: "You are late for your afspraak at the gemeente. What do you do?",
        opts: [
          "Do nothing; it’s not important",
          "Call them and explain you will be late",
          "Show up the next day"
        ],
        correct: 1,
        explain: "Call or email to inform them. Dutch institutions expect communication."
      },
      {
        q: "At the doctor (huisarts), you need an urgent appointment. What’s the right action?",
        opts: [
          "Go to the huisarts without calling",
          "Call first and ask for an emergency slot (spoed)",
          "Email only"
        ],
        correct: 1,
        explain: "Call first and state it’s urgent (spoed). They will schedule you appropriately."
      },
      {
        q: "You move to a new address in the Netherlands. What must you do?",
        opts: [
          "Inform the gemeente within 5 days",
          "Wait until next year’s registration",
          "Only tell your friends"
        ],
        correct: 0,
        explain: "You must register your new address with the gemeente (usually within 5 days)."
      },
      {
        q: "Your neighbor is playing loud music late at night. What is the appropriate first step?",
        opts: [
          "Call the police immediately",
          "Leave a note in the hallway",
          "Politely talk to the neighbor first"
        ],
        correct: 2,
        explain: "Start with polite communication. If it continues, then consider further steps."
      }
    ];

    // ===== QUIZ LOGIC =====
    let idx = 0, score = 0, answered = false;
    const quizEl = document.getElementById('quiz');
    const qwrap = document.getElementById('qwrap');
    const nextBtn = document.getElementById('nextBtn');
    const statusEl = document.getElementById('instantStatus');
    const bar = document.getElementById('bar');
    const counter = document.getElementById('counter');

    function renderQuestion(){
      const q = questions[idx];
      qwrap.innerHTML = `
        <div class="qcard">
          <div style="font-weight:700; margin-bottom:6px">Question ${idx+1} of ${questions.length}</div>
          <div>${q.q}</div>
          <div class="opts" id="opts"></div>
        </div>
        <div class="muted" style="margin-top:6px">Tip: think about typical Dutch procedures.</div>
      `;
      const optsEl = document.getElementById('opts');
      q.opts.forEach((t, i) => {
        const d = document.createElement('button');
        d.type = "button";
        d.className = "opt";
        d.textContent = t;
        d.addEventListener('click', () => choose(i));
        optsEl.appendChild(d);
      });
      answered = false;
      nextBtn.disabled = true;
      statusEl.textContent = "";
      counter.textContent = `Progress: ${idx+1}/${questions.length}`;
      bar.style.width = `${((idx)/questions.length)*100}%`;
    }

    function choose(i){
      if (answered) return;
      answered = true;
      const q = questions[idx];
      const optsEl = document.querySelectorAll('.opt');
      optsEl.forEach((b, j) => {
        if (j === q.correct) b.classList.add('correct');
        if (j === i && i !== q.correct) b.classList.add('wrong');
        b.disabled = true;
      });
      if (i === q.correct){
        score++;
        statusEl.textContent = "Correct!";
        statusEl.className = "status ok";
      } else {
        statusEl.textContent = "Not quite — see the explanation above.";
        statusEl.className = "status bad";
      }
      nextBtn.disabled = false;
      const exp = document.createElement('div');
      exp.className = "muted";
      exp.style.marginTop = "10px";
      exp.innerHTML = `<strong>Why:</strong> ${q.explain}`;
      qwrap.appendChild(exp);
    }

    function showResult(){
      document.getElementById('quiz').style.display = 'none';
      const res = document.getElementById('result');
      res.style.display = 'block';
      const scoreText = document.getElementById('scoreText');
      scoreText.textContent = `You scored ${score} out of ${questions.length}.`;
      const advice = document.getElementById('advice');
      if (score === 5) advice.textContent = "Excellent! You’re ready for more advanced practice.";
      else if (score >= 3) advice.textContent = "Nice work! A bit more practice and you’ll be exam-ready.";
      else advice.textContent = "No worries — practice makes perfect. Try again and read the tips.";
      window.scrollTo({top: res.offsetTop - 12, behavior:'smooth'});
    }

    document.getElementById('startTest').addEventListener('click', () => {
      idx = 0; score = 0;
      document.getElementById('result').style.display = 'none';
      quizEl.style.display = 'block';
      renderQuestion();
      window.scrollTo({top: quizEl.offsetTop - 12, behavior:'smooth'});
    });

    nextBtn.addEventListener('click', () => {
      if (idx < questions.length - 1){
        idx++; renderQuestion();
      } else {
        bar.style.width = '100%';
        showResult();
      }
    });

    document.getElementById('retry').addEventListener('click', () => {
      idx = 0; score = 0; quizEl.style.display = 'block';
      document.getElementById('result').style.display = 'none';
      renderQuestion();
      window.scrollTo({top: quizEl.offsetTop - 12, behavior:'smooth'});
    });

    // ===== NETLIFY FORMS (AJAX) =====
    const sForm = document.getElementById('subscribe-form');
    const formMsg = document.getElementById('formMsg');
    const submitBtn = document.getElementById('submitBtn');
    const btnText = submitBtn.querySelector('.btn-text');

    function encodeFormData(fd){
      const pairs=[]; for (const [n,v] of fd) pairs.push(encodeURIComponent(n)+'='+encodeURIComponent(v));
      return pairs.join('&');
    }
    sForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      formMsg.textContent = "";
      submitBtn.disabled = true; btnText.textContent = "Submitting…";
      const data = new FormData(sForm);
      if (data.get('bot-field')) { submitBtn.disabled=false; btnText.textContent="Notify me"; return; }
      try{
        await fetch('/', {
          method:'POST',
          headers:{'Content-Type':'application/x-www-form-urlencoded'},
          body: encodeFormData(data)
        });
        sForm.reset();
        formMsg.textContent = "✅ Thanks! You’re on the list.";
      }catch(err){
        console.error(err);
        formMsg.textContent = "⚠️ Something went wrong. Please try again.";
      }finally{
        submitBtn.disabled = false; btnText.textContent = "Notify me";
      }
    });
  </script>
</body>
</html>
