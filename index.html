<!DOCTYPE html>
<html lang="en">
<head>

<script>
// Early theme selection: prefer system setting; fallback to time-of-day (07-19 light, else dark)
(function(){
  try {
    const hour = new Date().getHours();
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
    let theme = null;

    if (prefersDark) theme = 'dark';
    else if (prefersLight) theme = 'light';
    else theme = (hour >= 7 && hour < 19) ? 'light' : 'dark'; // fallback by local time

    document.documentElement.setAttribute('data-theme', theme);

    // React to system changes
    if (window.matchMedia) {
      const mqDark = window.matchMedia('(prefers-color-scheme: dark)');
      const mqLight = window.matchMedia('(prefers-color-scheme: light)');
      const apply = () => {
        const pd = mqDark.matches, pl = mqLight.matches;
        const t = pd ? 'dark' : (pl ? 'light' : ((new Date().getHours()>=7 && new Date().getHours()<19) ? 'light':'dark'));
        document.documentElement.setAttribute('data-theme', t);
      };
      mqDark.addEventListener('change', apply);
      mqLight.addEventListener('change', apply);
    }
  } catch(e) {}
})();
</script>

  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DutchExam.online — Inburgering Prep</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/brand.css"/>
  <link rel="stylesheet" href="assets/theme.css"/>
  <link rel="stylesheet" href="assets/consent.css"/>
  <meta name="description" content="Practice KNM, lezen, luisteren, spreken, schrijven for the Dutch inburgering exam. Realistic tasks and instant feedback."/>
  <meta name="theme-color" content="#0b1220"/>

  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml"/>
  <meta property="og:title" content="DutchExam.online — Inburgering Prep"/>
  <meta property="og:description" content="Prepare for the Dutch inburgering exam with DutchExam.online"/>
  <meta property="og:image" content="assets/og-preview.svg"/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://dutchexam.online"/>
    
</head>
<body>
<script>window.GA_MEASUREMENT_ID = 'G-Y4884MKS1T';</script>
  <div class="wrap">
    <div class="topnav">
      <div class="brand">
        <img src="assets/logo.svg" alt="DutchExam logo" />
        DutchExam.online
      </div>
      <div><a href="tests.html">Level tests</a></div>
    </div>

    <!-- HERO -->
    <section class="section" style="display:grid; grid-template-columns:1.1fr .9fr; gap:18px; align-items:center">
      <div>
        <span class="eyebrow">Inburgering prep • KNM • A2/B1</span>
        <h1 data-i18n="title">Pass your Dutch inburgering with confidence</h1>
        <p class="lead">Realistic practice questions, bite‑size lessons, and smart tips for KNM, lezen, luisteren, spreken, and schrijven — all in one place.</p>
        <div class="cta">
          <a class="btn primary" href="tests.html">Take a free level test →</a>
          <a class="btn ghost" href="#subscribe">Get early access</a>
        </div>
      </div>
      <img src="assets/hero-illustration.svg" alt="Product illustration" loading="lazy">
    </section>

    <!-- FEATURES -->
    <section class="section">
      <h2 data-i18n="subtitle">Achieve real results with our ecosystem</h2>
      <p class="lead">One course — a complete set of Dutch tools that guarantee progress.</p>
      <div class="grid-3" style="margin-top:14px">
        <div class="card">
          <h3>Smart practice</h3>
          <p class="muted">Adaptive questions and instant explanations. Practice reading and grammar with feedback.</p>
        </div>
        <div class="card">
          <h3>Listening & speaking</h3>
          <p class="muted">Short drills and real-life scenarios (coming soon). Voice input planned.</p>
        </div>
        <div class="card">
          <h3>Exam focus</h3>
          <p class="muted">Official‑style tasks, time management, and tips tailored for inburgering.</p>
        </div>
      </div>
    </section>

    <!-- EXAMS -->
    <section class="section" id="exams">
      <h2 data-i18n="subtitle">Find your level first</h2>
      <p class="lead">Start with a quick assessment, then unlock targeted practice.</p>
      <div class="grid-3" style="margin-top:14px">
        <div class="card">
          <h3>Quick — ~5 min</h3>
          <p class="muted">A fast survey across the main topics.</p>
          <div class="cta"><a class="btn secondary" href="test-quick.html">Start</a></div>
        </div>
        <div class="card">
          <h3>Extended — ~10 min</h3>
          <p class="muted">Best balance between time and accuracy.</p>
          <div class="cta"><a class="btn secondary" href="test-extended.html">Start</a></div>
        </div>
        <div class="card">
          <h3>In‑Depth — ~12 min</h3>
          <p class="muted">Longer texts + writing checks.</p>
          <div class="cta"><a class="btn secondary" href="test-in-depth.html">Start</a></div>
        </div>
      </div>
    </section>

    <!-- SUBSCRIBE -->
    <section class="section" id="subscribe">
      <h2 data-i18n="subtitle">Get early access</h2>
      <p class="lead" style="margin-bottom:10px">Be the first to try full practice mode, audio drills, and AI explanations.</p>
      <form id="subscribe-form" name="subscribe" method="POST" data-netlify="true" data-netlify-honeypot="bot-field">
        <input type="hidden" name="form-name" value="subscribe" />
        <div style="display:none"><label>Don’t fill this<input name="bot-field"/></label></div>

        <div class="input">
          <input id="name" type="text" name="name" placeholder="Your name" required/>
        </div>
        <div class="input">
          <input id="phone" type="tel" name="phone" placeholder="Your phone (e.g., +31 6 1234 5678)" pattern="^[+0-9 ()-]{7,}$"/>
        </div>
        <div class="input">
          <input id="email" type="email" name="email" placeholder="Your email" required/>
        </div>

        <div class="checks">
          <label class="checkline">
            <input type="checkbox" name="consent_personal" value="yes" required />
            <span>I agree to the processing of personal data.</span>
          </label>
          <label class="checkline">
            <input type="checkbox" name="consent_ads" value="yes" />
            <span>I agree to receive advertising.</span>
          </label>
        </div>

        <div class="cta" style="margin-top:10px">
          <button class="btn primary" type="submit"><span class="btn-text">Notify me</span></button>
          <a class="btn ghost" href="tests.html">Or take a test first →</a>
        </div>
        <div class="muted" id="formMsg"></div>
      </form>
      <footer>© <span id="year"></span> DutchExam.online • <a class="link" href="mailto:info@dutchexam.online">Contact</a> • <a class="link" href="tests.html">Level tests</a></footer>
    </section>
  </div>

<script>
// Year
document.getElementById('year').textContent = new Date().getFullYear();

// Netlify AJAX
const form = document.getElementById('subscribe-form');
if (form) {
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const data = new FormData(form);
    const enc = new URLSearchParams(data).toString();
    const res = await fetch('/', { method:'POST', headers:{'Content-Type':'application/x-www-form-urlencoded'}, body: enc });
    const msg = document.getElementById('formMsg');
    if (res.ok) {
      msg.textContent = 'Thanks! You are on the list.';
      form.reset();
    } else {
      msg.textContent = 'Something went wrong. Please try again.';
    }
  });
}
</script>

<!-- Google Analytics placeholder -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'GA_MEASUREMENT_ID');
</script>


<script>
// ===== Language dictionary (extended for test UI) =====
window.DE_DICT = (function(){
  const dict = {
    en: {
      "nav.tests":"Level tests",
      "cta.leveltest":"Take a free level test →",
      "cta.early":"Get early access",
      "ui.start":"Start",
      "ui.begin":"Begin",
      "ui.next":"Next",
      "ui.back":"Back",
      "ui.submit":"Submit",
      "ui.finish":"Finish",
      "ui.result":"Your result",
      "ui.score":"Score",
      "ui.tryagain":"Try again",
      "ui.minutes":"minutes"
    },
    nl: {
      "nav.tests":"Toetsen",
      "cta.leveltest":"Doe een gratis niveautoets →",
      "cta.early":"Vroege toegang",
      "ui.start":"Starten",
      "ui.begin":"Beginnen",
      "ui.next":"Volgende",
      "ui.back":"Terug",
      "ui.submit":"Verzenden",
      "ui.finish":"Afronden",
      "ui.result":"Jouw resultaat",
      "ui.score":"Score",
      "ui.tryagain":"Opnieuw proberen",
      "ui.minutes":"minuten","cookie.settings":"Cookie settings" }
    ,
    ru: {
      "nav.tests":"Тесты уровня",
      "cta.leveltest":"Пройти бесплатный тест уровня →",
      "cta.early":"Ранний доступ",
      "ui.start":"Начать",
      "ui.begin":"Старт",
      "ui.next":"Далее",
      "ui.back":"Назад",
      "ui.submit":"Отправить",
      "ui.finish":"Завершить",
      "ui.result":"Ваш результат",
      "ui.score":"Pointsы",
      "ui.tryagain":"Попробовать снова",
      "ui.minutes":"минут"
    }
  };
  return dict;
})();

// Apply dictionary to elements with data-i18n
function applyI18n(lang) {
  const dict = window.DE_DICT || {};
  const map = dict[lang] || dict.en || {};
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (map[key]) el.textContent = map[key];
  });
  localStorage.setItem("lang", lang);
}

// Try translating common buttons by their current text -> keys
function translateButtonsByHeuristics(lang){
  const map = (window.DE_DICT && (window.DE_DICT[lang]||window.DE_DICT.en)) || {};
  const pairs = [
    [/^(start|begin)$/i, "ui.start"],
    [/^begin$/i, "ui.begin"],
    [/^(next|volgende|далее)$/i, "ui.next"],
    [/^(back|terug|назад)$/i, "ui.back"],
    [/^(submit|verzenden|отправить)$/i, "ui.submit"],
    [/^(finish|afronden|завершить)$/i, "ui.finish"],
    [/^(result|jouw resultaat|ваш результат)$/i, "ui.result"],
    [/^(score|баллы)$/i, "ui.score"],
    [/^(try again|opnieuw proberen|попробовать снова)$/i, "ui.tryagain"]
  ];
  document.querySelectorAll("button, input[type=button], input[type=submit], a").forEach(el=>{
    const txt = (el.textContent || el.value || "").trim();
    for (const [re, key] of pairs){
      if (re.test(txt) && map[key]){
        if (el.tagName === "INPUT") el.value = map[key]; else el.textContent = map[key];
        el.setAttribute("data-i18n", key);
        break;
      }
    }
  });
}

// Language init on every page
(function(){
  const sel = document.getElementById("lang");
  const urlLang = new URLSearchParams(location.search).get("lang");
  const saved = (urlLang || localStorage.getItem("lang") || "en");
  if (sel) sel.value = saved;
  applyI18n(saved);
  translateButtonsByHeuristics(saved);
  if (sel) sel.addEventListener("change", e => { applyI18n(e.target.value); translateButtonsByHeuristics(e.target.value); });
})();

// ===== Consent Mode v2 + GA4 scaffold =====
(function(){
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);} window.gtag = gtag;

  const GA_ID = window.GA_MEASUREMENT_ID || "G-Y4884MKS1T";
  // Consent defaults (denied)
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'ad_personalization': 'denied',
    'ad_user_data': 'denied',
    'analytics_storage': 'denied',
    'functionality_storage': 'granted', // allow i18n save
    'security_storage': 'granted'
  });

  // Helper to grant analytics when user interacts meaningfully (you can wire to your own consent UI)
  window.DE_openConsent = function(){ const el = document.getElementById('de-consent'); if (el) el.classList.add('show'); };
  window.DE_grantAnalytics = function(){
    gtag('consent', 'update', {'analytics_storage': 'granted'});
  };

  // Load GA if ID set
  if (GA_ID && GA_ID !== "G-Y4884MKS1T"){
    const s = document.createElement('script'); s.async = true;
    s.src = `https://www.googletagmanager.com/gtag/js?id=${GA_ID}`;
    document.head.appendChild(s);
    gtag('js', new Date()); gtag('config', GA_ID);
  }

  // Generic tracker
  window.DE_track = function(ev, params={}){ if (window.gtag) gtag('event', ev, params); };

  // CTA & test start tracking
  document.addEventListener('click', (e)=>{
    const t = e.target.closest('a,button,input[type=submit]');
    if (!t) return;
    const label = (t.textContent || t.value || '').trim().slice(0,80);
    if (/test|start|begin/i.test(label)) window.DE_track('start_test', {label, page: location.pathname});
    if (/subscribe|notify/i.test(label)) window.DE_track('select_content', {content_type:'cta', item_id:'subscribe_button'});
    // Grant analytics after first meaningful interaction (soft consent)
    window.DE_grantAnalytics();
  });

  // Subscribe success -> generate_lead
  const msgEl = document.getElementById('formMsg');
  if (msgEl){
    const obs = new MutationObserver(()=>{
      if (/thanks/i.test(msgEl.textContent)) window.DE_track('generate_lead', {method:'netlify_form'});
    });
    obs.observe(msgEl, {childList:true, characterData:true, subtree:true});
  }

  // Rough "complete_test" detection: look for keywords appearing later
  setTimeout(()=>{
    const bodyText = document.body.innerText.toLowerCase();
    if (/(result|score|your level|niveau)/i.test(bodyText)){
      window.DE_track('complete_test', {page: location.pathname});
    }
  }, 4000);
})();
</script>

<script src="assets/consent.js"></script>
<script src="assets/theme.js"></script>
</body>
</html>
