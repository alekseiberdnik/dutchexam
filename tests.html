<!DOCTYPE html>
<html lang="en">
<head>

<script>
// Early theme selection: prefer system setting; fallback to time-of-day (07-19 light, else dark)
(function(){
  try {
    const hour = new Date().getHours();
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
    let theme = null;

    if (prefersDark) theme = 'dark';
    else if (prefersLight) theme = 'light';
    else theme = (hour >= 7 && hour < 19) ? 'light' : 'dark'; // fallback by local time

    document.documentElement.setAttribute('data-theme', theme);

    // React to system changes
    if (window.matchMedia) {
      const mqDark = window.matchMedia('(prefers-color-scheme: dark)');
      const mqLight = window.matchMedia('(prefers-color-scheme: light)');
      const apply = () => {
        const pd = mqDark.matches, pl = mqLight.matches;
        const t = pd ? 'dark' : (pl ? 'light' : ((new Date().getHours()>=7 && new Date().getHours()<19) ? 'light':'dark'));
        document.documentElement.setAttribute('data-theme', t);
      };
      mqDark.addEventListener('change', apply);
      mqLight.addEventListener('change', apply);
    }
  } catch(e) {}
})();
</script>

  <link rel="stylesheet" href="assets/tests.css"/>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DutchExam.online — Level Tests</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/brand.css"/>
  <link rel="stylesheet" href="assets/theme.css"/>
  <link rel="stylesheet" href="assets/consent.css"/>

  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml"/>
  <meta property="og:title" content="DutchExam.online — Inburgering Prep"/>
  <meta property="og:description" content="Prepare for the Dutch inburgering exam with DutchExam.online"/>
  <meta property="og:image" content="assets/og-preview.svg"/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://dutchexam.online"/>
    
</head>
<body>
  <div class="wrap">
    <div class="topnav">
      <div class="brand">
        <img src="assets/logo.svg" alt="DutchExam logo" />
        DutchExam.online
      </div>
      <div><a href="index.html">← Back</a></div>
    </div>

    <section class="section">
      <span class="eyebrow">DutchExam.online — AI-ready assessment</span>
      \1<span data-i18n="test.title">\2</span>\3
      <p class="lead">From <strong>5 minutes</strong>, up to <strong>95% accuracy</strong>. Take a test and find out how well you read, write, speak, and understand Dutch.</p>
      <div class="cta"><a class="btn primary" href="#variants">Choose a test</a></div>
    </section>

    <section class="section" id="variants">
      \1<span data-i18n="test.subtitle">\2</span>\3
      <p class="lead">Pick the format that fits your time and goals.</p>
      <div class="grid-3" style="margin-top:14px">
      <div class="grid-3" style="margin-top:14px">
        <div class="card">
          <h3 style="margin:0 0 6px">General — Quick (~5 min)</h3>
          <p class="muted">Overall level assessment across skills.</p>
          <div class="cta" style="margin-top:12px"><a class="btn secondary" href="test-quick.html">Start</a></div>
        </div>
        <div class="card">
          <h3 style="margin:0 0 6px">Lezen — Reading</h3>
          <p class="muted">Understand written texts and tasks.</p>
          <div class="cta" style="margin-top:12px"><a class="btn secondary" href="test-lezen.html" data-skill="lezen">Start</a></div>
        </div>
        <div class="card">
          <h3 style="margin:0 0 6px">Luisteren — Listening</h3>
          <p class="muted">Comprehension of spoken Dutch.</p>
          <div class="cta" style="margin-top:12px"><a class="btn secondary" href="test-luisteren.html" data-skill="luisteren">Start</a></div>
        </div>
        <div class="card">
          <h3 style="margin:0 0 6px">Spreken — Speaking</h3>
          <p class="muted">Express yourself clearly in Dutch.</p>
          <div class="cta" style="margin-top:12px"><a class="btn secondary" href="test-spreken.html" data-skill="spreken">Start</a></div>
        </div>
        <div class="card">
          <h3 style="margin:0 0 6px">Schrijven — Writing</h3>
          <p class="muted">Write messages, emails, short texts.</p>
          <div class="cta" style="margin-top:12px"><a class="btn secondary" href="test-schrijven.html" data-skill="schrijven">Start</a></div>
        </div>
        <div class="card">
          <h3 style="margin:0 0 6px">KNM — Kennis van de Nederlandse Maatschappij</h3>
          <p class="muted">Civic integration knowledge.</p>
          <div class="cta" style="margin-top:12px"><a class="btn secondary" href="test-knm.html" data-skill="knm">Start</a></div>
        </div>
      </div>
</div>
    </section>

    <section class="section">
      <h2 data-i18n="subtitle">How we determine your level</h2>
      <div class="grid-2" style="margin-top:14px">
        <div class="card">
          <h3 style="margin:0 0 6px">Adaptive</h3>
          <p class="muted">We start with simpler questions and move to harder ones. The test adapts to your answers.</p>
        </div>
        <div class="card">
          <h3 style="margin:0 0 6px">Accurate</h3>
          <p class="muted">The more tasks you complete, the more precisely we estimate your level.</p>
        </div>
      </div>
    </section>
  </div>

<!-- Google Analytics placeholder -->
<script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'GA_MEASUREMENT_ID');
</script>

<script>// TODO: extend dict with test page keys</script>

<script>
// ===== Language dictionary (extended for test UI) =====
window.DE_DICT = (function(){
  const dict = {
    en: {
      "nav.tests":"Level tests",
      "cta.leveltest":"Take a free level test →",
      "cta.early":"Get early access",
      "ui.start":"Start",
      "ui.begin":"Begin",
      "ui.next":"Next",
      "ui.back":"Back",
      "ui.submit":"Submit",
      "ui.finish":"Finish",
      "ui.result":"Your result",
      "ui.score":"Score",
      "ui.tryagain":"Try again",
      "ui.minutes":"minutes"
    },
    nl: {
      "nav.tests":"Toetsen",
      "cta.leveltest":"Doe een gratis niveautoets →",
      "cta.early":"Vroege toegang",
      "ui.start":"Starten",
      "ui.begin":"Beginnen",
      "ui.next":"Volgende",
      "ui.back":"Terug",
      "ui.submit":"Verzenden",
      "ui.finish":"Afronden",
      "ui.result":"Jouw resultaat",
      "ui.score":"Score",
      "ui.tryagain":"Opnieuw proberen",
      "ui.minutes":"minuten","cookie.settings":"Cookie settings" }
    ,
    ru: {
      "nav.tests":"Тесты уровня",
      "cta.leveltest":"Пройти бесплатный тест уровня →",
      "cta.early":"Ранний доступ",
      "ui.start":"Начать",
      "ui.begin":"Старт",
      "ui.next":"Далее",
      "ui.back":"Назад",
      "ui.submit":"Отправить",
      "ui.finish":"Завершить",
      "ui.result":"Ваш результат",
      "ui.score":"Pointsы",
      "ui.tryagain":"Попробовать снова",
      "ui.minutes":"минут"
    }
  };
  return dict;
})();

// Apply dictionary to elements with data-i18n
function applyI18n(lang) {
  const dict = window.DE_DICT || {};
  const map = dict[lang] || dict.en || {};
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if (map[key]) el.textContent = map[key];
  });
  localStorage.setItem("lang", lang);
}

// Try translating common buttons by their current text -> keys
function translateButtonsByHeuristics(lang){
  const map = (window.DE_DICT && (window.DE_DICT[lang]||window.DE_DICT.en)) || {};
  const pairs = [
    [/^(start|begin)$/i, "ui.start"],
    [/^begin$/i, "ui.begin"],
    [/^(next|volgende|далее)$/i, "ui.next"],
    [/^(back|terug|назад)$/i, "ui.back"],
    [/^(submit|verzenden|отправить)$/i, "ui.submit"],
    [/^(finish|afronden|завершить)$/i, "ui.finish"],
    [/^(result|jouw resultaat|ваш результат)$/i, "ui.result"],
    [/^(score|баллы)$/i, "ui.score"],
    [/^(try again|opnieuw proberen|попробовать снова)$/i, "ui.tryagain"]
  ];
  document.querySelectorAll("button, input[type=button], input[type=submit], a").forEach(el=>{
    const txt = (el.textContent || el.value || "").trim();
    for (const [re, key] of pairs){
      if (re.test(txt) && map[key]){
        if (el.tagName === "INPUT") el.value = map[key]; else el.textContent = map[key];
        el.setAttribute("data-i18n", key);
        break;
      }
    }
  });
}

// Language init on every page
(function(){
  const sel = document.getElementById("lang");
  const urlLang = new URLSearchParams(location.search).get("lang");
  const saved = (urlLang || localStorage.getItem("lang") || "en");
  if (sel) sel.value = saved;
  applyI18n(saved);
  translateButtonsByHeuristics(saved);
  if (sel) sel.addEventListener("change", e => { applyI18n(e.target.value); translateButtonsByHeuristics(e.target.value); });
})();

// ===== Consent Mode v2 + GA4 scaffold =====
(function(){
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);} window.gtag = gtag;

  const GA_ID = window.GA_MEASUREMENT_ID || "G-Y4884MKS1T";
  // Consent defaults (denied)
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'ad_personalization': 'denied',
    'ad_user_data': 'denied',
    'analytics_storage': 'denied',
    'functionality_storage': 'granted', // allow i18n save
    'security_storage': 'granted'
  });

  // Helper to grant analytics when user interacts meaningfully (you can wire to your own consent UI)
  window.DE_openConsent = function(){ const el = document.getElementById('de-consent'); if (el) el.classList.add('show'); };
  window.DE_grantAnalytics = function(){
    gtag('consent', 'update', {'analytics_storage': 'granted'});
  };

  // Load GA if ID set
  if (GA_ID && GA_ID !== "G-Y4884MKS1T"){
    const s = document.createElement('script'); s.async = true;
    s.src = `https://www.googletagmanager.com/gtag/js?id=${GA_ID}`;
    document.head.appendChild(s);
    gtag('js', new Date()); gtag('config', GA_ID);
  }

  // Generic tracker
  window.DE_track = function(ev, params={}){ if (window.gtag) gtag('event', ev, params); };

  // CTA & test start tracking
  document.addEventListener('click', (e)=>{
    const t = e.target.closest('a,button,input[type=submit]');
    if (!t) return;
    const label = (t.textContent || t.value || '').trim().slice(0,80);
    if (/test|start|begin/i.test(label)) window.DE_track('start_test', {label, page: location.pathname});
    if (/subscribe|notify/i.test(label)) window.DE_track('select_content', {content_type:'cta', item_id:'subscribe_button'});
    // Grant analytics after first meaningful interaction (soft consent)
    window.DE_grantAnalytics();
  });

  // Subscribe success -> generate_lead
  const msgEl = document.getElementById('formMsg');
  if (msgEl){
    const obs = new MutationObserver(()=>{
      if (/thanks/i.test(msgEl.textContent)) window.DE_track('generate_lead', {method:'netlify_form'});
    });
    obs.observe(msgEl, {childList:true, characterData:true, subtree:true});
  }

  // Rough "complete_test" detection: look for keywords appearing later
  setTimeout(()=>{
    const bodyText = document.body.innerText.toLowerCase();
    if (/(result|score|your level|niveau)/i.test(bodyText)){
      window.DE_track('complete_test', {page: location.pathname});
    }
  }, 4000);
})();
</script>


  </div><!--wrap-end-->
<script src="assets/consent.js"></script>
<script src="assets/theme.js"></script>
</body>
</html>
